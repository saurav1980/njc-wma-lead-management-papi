<?xml version='1.0' encoding='UTF-8'?>
<types:mule xmlns:types="http://www.mulesoft.org/schema/mule/types">
  <types:catalog>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Attributes" format="java">
      <types:shape format="weave" example="weave/autogenerated/57d1b645-4908-4c52-a25c-1f8e2698a812/Output-Attributes.wev" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[%dw 2.0

type auto_57d1b645_4908_4c52_a25c_1f8e2698a812_Output_Attributes = {|
  statusCode: Number, 
  reasonPhrase: String, 
  headers: { _?: String }
|} {"typeAlias": "HttpResponseAttributes",
"typeId": "org.mule.extension.http.api.HttpResponseAttributes"}

]]></types:shape>
    </types:type>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Variables-httpStatus" format="java">
      <types:shape format="raml" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Input-Variables-httpStatus" format="java">
      <types:shape format="raml" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Variables-outboundHeaders" format="java">
      <types:shape format="weave" example="weave/autogenerated/57d1b645-4908-4c52-a25c-1f8e2698a812/Output-Variables-outboundHeaders.wev" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[%dw 2.0

type auto_57d1b645_4908_4c52_a25c_1f8e2698a812_Output_Variables_outboundHeaders = {| "content-type": String |}

]]></types:shape>
    </types:type>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Input-Variables-outboundHeaders" format="java">
      <types:shape format="weave" example="weave/autogenerated/57d1b645-4908-4c52-a25c-1f8e2698a812/Input-Variables-outboundHeaders.wev" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[%dw 2.0

type auto_57d1b645_4908_4c52_a25c_1f8e2698a812_Input_Variables_outboundHeaders = {| "content-type": String |}

]]></types:shape>
    </types:type>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Input-Payload" format="json">
      <types:shape format="weave" example="weave/autogenerated/57d1b645-4908-4c52-a25c-1f8e2698a812/Input-Payload.wev" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[%dw 2.0

type auto_57d1b645_4908_4c52_a25c_1f8e2698a812_Input_Payload = {|
  firstName: String, 
  surName: String, 
  overallResponse: String, 
  creditScore: Number
|}

]]></types:shape>
    </types:type>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Input-Attributes" format="java">
      <types:shape format="weave" example="weave/autogenerated/57d1b645-4908-4c52-a25c-1f8e2698a812/Input-Attributes.wev" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[%dw 2.0

type auto_57d1b645_4908_4c52_a25c_1f8e2698a812_Input_Attributes = {|
  clientCertificate?: {|
    publicKey?: {|  |}, 
    "type"?: String, 
    encoded?: Binary
  |}, 
  headers: {|
    "X-CLIENT-ID": String, 
    "X-CLIENT-SECRET": String, 
    "X-CORRELATION-ID"?: String
  |}, 
  listenerPath: String, 
  method: String, 
  queryParams: {|  |}, 
  queryString: String, 
  relativePath: String, 
  remoteAddress: String, 
  requestPath: String, 
  requestUri: String, 
  scheme: String, 
  uriParams: {|  |}, 
  version: String, 
  localAddress: String
|}

]]></types:shape>
    </types:type>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Payload" format="json">
      <types:shape format="weave" example="weave/autogenerated/57d1b645-4908-4c52-a25c-1f8e2698a812/Output-Payload.wev" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[%dw 2.0

type auto_57d1b645_4908_4c52_a25c_1f8e2698a812_Output_Payload = { _?: Any }

]]></types:shape>
    </types:type>
    <types:type name="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Variables-leadId" format="java">
      <types:shape format="raml" autogeneratedOrigin="d051b683-8786-4094-90ed-45069f3a8036"><![CDATA[#%RAML 1.0 DataType
type: string]]></types:shape>
    </types:type>
    <types:type name="requestKYCPapi" format="json">
      <types:shape format="weave" example="examples/requestKYCpapi.json"><![CDATA[%dw 2.0

type requestKYCPapi = {|
  id: String, 
  salutation: String, 
  firstName: String, 
  middleName: String, 
  lastName: String, 
  street: String, 
  city: String, 
  state: String, 
  country: String, 
  postalCode: String, 
  email: String, 
  mobilePhone: String, 
  phone: String, 
  fax: String, 
  title: String, 
  website: String, 
  kycStatus: String
|} {"example": "{\\\"id\\\":\\\"00Q5i00000JkiXjEAJ\\\",\\\"salutation\\\":\\\"\\\",\\\"firstName\\\":\\\"Jill\\\",\\\"middleName\\\":\\\"\\\",\\\"lastName\\\":\\\"Jack\\\",\\\"street\\\":\\\"49 Featherstone Street\\\",\\\"city\\\":\\\"LONDON\\\",\\\"state\\\":\\\"LONDON\\\",\\\"country\\\":\\\"United Kingdom\\\",\\\"postalCode\\\":\\\"EC1Y 8SY\\\",\\\"email\\\":\\\"\\\",\\\"mobilePhone\\\":\\\"\\\",\\\"phone\\\":\\\"23-678-4567\\\",\\\"fax\\\":\\\"\\\",\\\"title\\\":\\\"\\\",\\\"website\\\":\\\"\\\",\\\"kycStatus\\\":\\\"Initiate\\\"}"}

]]></types:shape>
    </types:type>
    <types:type name="requestExperianSapi" format="json">
      <types:shape format="weave" example="examples/ExperianRequestCustomer.json"><![CDATA[%dw 2.0

type requestExperianSapi = {|
  header: {|
    tenantId: String, 
    requestType: String, 
    clientReferenceId: String, 
    expRequestId: String, 
    messageTime: String, 
    txnId: String, 
    time: String, 
    options: {|  |}
  |}, 
  payload: {|
    control: Array<{|      option: String,       value: String    |}>, 
    contacts: Array<{|      id: String,       person: {|        personDetails: {| dateOfBirth: String |},         typeOfPerson: String,         personIdentifier: String,         names: Array<{|          id: String,           "type": String,           title: String,           firstName: String,           middleNames: String,           initials: String,           surName: String,           namePrefix: String,           nameSuffix: String        |}>
      |}, 
      addresses: Array<{|        id: String,         addressIdentifier: String,         indicator: String,         addressType: String,         poBoxNumber: String,         subBuilding: String,         buildingName: String,         buildingNumber: String,         street: String,         street2: String,         subLocality: String,         locality: String,         postTown: String,         county: String,         postal: String,         stateProvinceCode: String,         countryCode: String,         residentFrom: {|          fullDateFrom: String,           yearFrom: String,           monthFrom: String,           dayFrom: String        |},         residentTo: {|          fullDateTo: String,           yearTo: String,           monthTo: String,           dayTo: String        |},         timeAtAddress: {|          value: String,           unit: String        |}      |}>
    |}>, 
    application: {|
      applicants: Array<{|        id: String,         contactId: String,         "type": String,         applicantType: String,         consent: Boolean,         knownCustomer: Boolean      |}>
    |}
  |}
|} {"example": "{\\\"header\\\":{\\\"tenantId\\\":\\\"c7f8f55045884847b993d81ca8cdaf\\\",\\\"requestType\\\":\\\"UKCCIS-Devportal\\\",\\\"clientReferenceId\\\":\\\"TEST-123-124\\\",\\\"expRequestId\\\":\\\"\\\",\\\"messageTime\\\":\\\"2022-05-19T16:01:53.0000000+00:00\\\",\\\"txnId\\\":\\\"\\\",\\\"time\\\":\\\"\\\",\\\"options\\\":{}},\\\"payload\\\":{\\\"control\\\":[{\\\"option\\\":\\\"KYC_CLIENTTIERVERSION\\\",\\\"value\\\":\\\"version1\\\"}],\\\"contacts\\\":[{\\\"id\\\":\\\"MAINCONTACT_1\\\",\\\"person\\\":{\\\"personDetails\\\":{\\\"dateOfBirth\\\":\\\"1969-01-25\\\"},\\\"typeOfPerson\\\":\\\"APPLICANT\\\",\\\"personIdentifier\\\":\\\"P12345\\\",\\\"names\\\":[{\\\"id\\\":\\\"MAINPERSONNAME_1\\\",\\\"type\\\":\\\"CURRENT\\\",\\\"title\\\":\\\"MR\\\",\\\"firstName\\\":\\\"NEIL\\\",\\\"middleNames\\\":\\\"\\\",\\\"initials\\\":\\\"\\\",\\\"surName\\\":\\\"CATHPOLE\\\",\\\"namePrefix\\\":\\\"\\\",\\\"nameSuffix\\\":\\\"\\\"}]},\\\"addresses\\\":[{\\\"id\\\":\\\"MAINAPPADDRESS_1\\\",\\\"addressIdentifier\\\":\\\"ADDRESS_1\\\",\\\"indicator\\\":\\\"RESIDENTIAL\\\",\\\"addressType\\\":\\\"CURRENT\\\",\\\"poBoxNumber\\\":\\\"\\\",\\\"subBuilding\\\":\\\"\\\",\\\"buildingName\\\":\\\"\\\",\\\"buildingNumber\\\":\\\"1A\\\",\\\"street\\\":\\\"GEORGE SQUAR\\\",\\\"street2\\\":\\\"\\\",\\\"subLocality\\\":\\\"\\\",\\\"locality\\\":\\\"\\\",\\\"postTown\\\":\\\"INVERURI\\\",\\\"county\\\":\\\"ABERDEENSHIRE\\\",\\\"postal\\\":\\\"AB51 3XX\\\",\\\"stateProvinceCode\\\":\\\"\\\",\\\"countryCode\\\":\\\"GBR\\\",\\\"residentFrom\\\":{\\\"fullDateFrom\\\":\\\"2019-01-01\\\",\\\"yearFrom\\\":\\\"2019\\\",\\\"monthFrom\\\":\\\"01\\\",\\\"dayFrom\\\":\\\"01\\\"},\\\"residentTo\\\":{\\\"fullDateTo\\\":\\\"2020-01-01\\\",\\\"yearTo\\\":\\\"2020\\\",\\\"monthTo\\\":\\\"01\\\",\\\"dayTo\\\":\\\"01\\\"},\\\"timeAtAddress\\\":{\\\"value\\\":\\\"365\\\",\\\"unit\\\":\\\"DAYS\\\"}}]}],\\\"application\\\":{\\\"applicants\\\":[{\\\"id\\\":\\\"APPLICANT_1\\\",\\\"contactId\\\":\\\"MAINCONTACT_1\\\",\\\"type\\\":\\\"INDIVIDUAL\\\",\\\"applicantType\\\":\\\"APPLICANT\\\",\\\"consent\\\":true,\\\"knownCustomer\\\":true}]}}}"}

]]></types:shape>
    </types:type>
  </types:catalog>
  <types:enrichment select="#57d1b645-4908-4c52-a25c-1f8e2698a812">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Input-Payload"/>
          <types:attributes type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Input-Attributes"/>
        </types:message>
        <types:variables>
          <types:variable name="outboundHeaders" type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Input-Variables-outboundHeaders"/>
          <types:variable name="httpStatus" type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Input-Variables-httpStatus"/>
        </types:variables>
      </types:input-event>
      <types:output-event>
        <types:message>
          <types:payload type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Payload"/>
          <types:attributes type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Attributes"/>
        </types:message>
        <types:variables>
          <types:variable name="outboundHeaders" type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Variables-outboundHeaders"/>
          <types:variable name="httpStatus" type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Variables-httpStatus"/>
          <types:variable name="leadId" type="auto_57d1b645-4908-4c52-a25c-1f8e2698a812_Output-Variables-leadId"/>
        </types:variables>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
  <types:enrichment select="#c431794d-6b04-4eae-9ed7-c9f303a114fd">
    <types:processor-declaration>
      <types:input-event>
        <types:message>
          <types:payload type="requestKYCPapi"/>
        </types:message>
      </types:input-event>
      <types:output-event>
        <types:message>
          <types:payload type="requestExperianSapi"/>
        </types:message>
      </types:output-event>
    </types:processor-declaration>
  </types:enrichment>
</types:mule>